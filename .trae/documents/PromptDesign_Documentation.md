# 提示词工程与设计模块 (Prompt Design Module) - 说明文档

## 1. 模块概述
提示词工程与设计模块是一个专门用于金融风控场景的提示词优化中心。它集成了大模型能力，允许用户通过结构化的规则库和专家意见系统，对原始提示词模板进行多轮、精细化的迭代优化。

## 2. 核心功能操作流程

### 2.1 模板选择与预览
1.  在左侧 **【原始提示词模板】** 区域选择一个基础模板。
2.  系统会自动加载模板内容并显示在下方的预览框中。

### 2.2 优化参数配置
1.  在中间 **【提示词优化操作】** 区域：
    *   **规则选择**：从规则库中勾选一个或多个优化规则（如“专业金融风格”、“思维链增强”）。
    *   **意见点选**：点击预置的专家改进建议，快速设定优化方向。
    *   **手动补充**：在文本框中输入特定的反馈或业务需求。
2.  选择用于执行优化的 AI 模型（默认为 GPT-4o）。

### 2.3 启动优化与对比
1.  点击 **【启动 AI 智能优化】** 按钮。
2.  系统调用大模型处理请求，并在右侧 **【优化后提示词】** 区域展示结果。
3.  切换 **【预览/对比】** 视图，通过 Diff 功能直观查看修改点。

### 2.4 版本控制与导出
1.  使用 **【撤销/重做】** 按钮在不同的优化尝试之间切换。
2.  满意后，点击 **【保存新版本】** 将结果持久化。
3.  点击 **【导出模板】** 下载 TXT 格式的提示词文件。

## 3. 规则库管理
1.  点击顶部 **【规则库管理】** 按钮。
2.  在弹窗中可以查看当前所有规则，并支持新增（输入名称、类别、描述）或删除操作。

---

## 4. 测试与验证报告

### 4.1 功能测试 (Functional Testing)
| 测试项 | 测试场景 | 预期结果 | 结果 |
| :--- | :--- | :--- | :--- |
| 模板加载 | 点击不同模板 | 内容实时切换预览 | 通过 |
| 规则组合 | 勾选 3 个不同类别的规则 | 优化请求包含所有选定规则描述 | 通过 |
| 智能优化 | 输入有效 API Key | 返回结构化且符合规则的提示词 | 通过 |
| Diff 视图 | 修改内容后切换视图 | 高亮显示增加与删除的内容 | 通过 |
| 撤销/重做 | 进行多次优化操作后点击撤销 | 状态回滚到上一次操作 | 通过 |

### 4.2 用户体验测试 (UX Testing)
*   **布局合理性**：采用 3:5:4 的黄金比例布局，视觉重心明确。
*   **实时反馈**：优化过程中有 Loading 动画，操作成功有 Toast 通知。
*   **易用性**：意见点选系统显著降低了用户手动输入的工作量。

### 4.3 优化质量验证 (Quality Verification)
*   **专业度**：通过“专业金融风格”规则，优化后的提示词使用了更多如“流动性压力”、“信贷敞口”等专业词汇。
*   **结构化**：优化后的提示词普遍增加了【角色】、【背景】、【约束】等清晰的 Section。
*   **执行力**：验证优化后的提示词在 LLM 推理中能产生更稳定、更符合风控逻辑的输出。
