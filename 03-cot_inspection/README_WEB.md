# 思维链合成数据质检Web工具

基于现有的质检模块开发的界面化工具，提供直观的Web操作界面。

## ✨ 全新升级 (v2.0)

- 🎨 **现代化UI设计**: 采用清新简洁的界面风格，提供更佳的用户体验
- 📊 **可视化仪表盘**: 新增分数分布直方图和合格率环形图，数据质量一目了然
- 🚀 **交互体验优化**: 支持拖拽上传、实时进度反馈、结果搜索与筛选
- 📱 **响应式布局**: 完美适配各种屏幕尺寸

## 功能特性

- 🎯 **双模式质检**: 支持AI模型评估和规则自动检查
- � **数据洞察**: 
  - 核心指标卡片（总数、平均分、合格率）
  - 交互式图表展示
- 🔍 **深度分析**: 
  - 支持按分数段筛选（优秀/合格/不合格）
  - 全文搜索功能
  - 点击样本查看完整指令、输入、输出及详细规则命中情况
- 💾 **便捷导出**: 一键下载完整的质检结果JSON文件
- ⚡ **高效处理**: 优化的前端性能，支持分页查看大量数据

## 快速开始

### 1. 安装依赖
```bash
cd /Users/yurong/Desktop/Code/RiskControl/03-cot_inspection/web_app
pip install -r requirements.txt
```

### 2. 启动服务
```bash
python run.py
```

### 3. 访问界面
打开浏览器访问: http://localhost:5001

## 使用说明

### 文件格式要求
上传的JSONL文件应包含以下字段：
```json
{
  "instruction": "任务指令",
  "input": "输入内容",
  "output": "输出内容"
}
```

### 质检模式

1. **模型质检 (AI评估)**
   - 使用DeepSeek模型进行智能评分
   - 评估维度: 准确性、信息量、语法规范、思维链难度
   - 评分范围: 0-10分

2. **规则质检 (自动检查)**
   - 基于预定义规则进行自动检查
   - 检查内容: 完整性、格式规范、敏感词、重复内容等
   - 评分基于规则通过率

### 界面操作指南

1. **上传**: 将JSONL文件拖入上传区域
2. **配置**: 选择质检模式（默认模型质检）
3. **运行**: 点击"开始质检"按钮
4. **分析**:
   - 顶部查看整体统计和图表
   - 下方表格查看具体样本，支持搜索和筛选
   - 点击表格行查看详细内容
5. **导出**: 点击表格上方的"导出"按钮保存结果

## API接口

### 健康检查
```bash
GET /api/health
```

### 质检接口
```bash
POST /inspect
Content-Type: multipart/form-data

参数:
- file: JSONL文件
- type: 质检类型 (model/rule)
```

### 统计信息
```bash
GET /api/stats
```

## 目录结构

```
web_app/
├── app.py              # Flask后端主程序
├── run.py              # 启动脚本
├── requirements.txt    # 依赖包列表
├── templates/
│   └── index.html      # 前端界面 (Vue.js + Bootstrap)
├── uploads/           # 文件上传目录
└── results/           # 结果保存目录
```
